ERROR 2025-06-01 20:35:12,602 consumers 5800 16124 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:38:29,772 consumers 21116 11316 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:42:29,141 consumers 9768 6916 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:42:59,398 consumers 9768 6916 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:44:29,053 consumers 19744 11812 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:49:36,091 consumers 10912 18196 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:54:17,021 consumers 20348 21432 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:54:22,445 consumers 20348 21432 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:54:51,502 consumers 20348 21432 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:55:11,458 consumers 20348 21432 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:57:47,238 consumers 8036 21456 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 20:57:52,380 consumers 8036 21456 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-01 21:01:08,289 consumers 11948 9856 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
CRITICAL 2025-06-03 14:20:02,818 server 16748 16832 Listen failure: Couldn't listen on 127.0.0.1:8000: [WinError 10048] Normalmente é permitida apenas uma utilização de cada endereço de soquete (protocolo/endereço de rede/porta).
ERROR 2025-06-03 14:27:55,486 consumers 17876 18164 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 14:27:56,270 server 17876 18164 Exception inside application: Error 10061 connecting to 127.0.0.1:6379. Connect call failed ('127.0.0.1', 6379).
Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 302, in connect_check_health
    await self.retry.call_with_retry(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\retry.py", line 71, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 755, in _connect
    reader, writer = await asyncio.open_connection(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\streams.py", line 48, in open_connection
    transport, _ = await loop.create_connection(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1073, in create_connection
    raise exceptions[0]
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1058, in create_connection
    sock = await self._connect_sock(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 964, in _connect_sock
    await self.sock_connect(sock, address)
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\selector_events.py", line 633, in sock_connect
    return await fut
           ^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\selector_events.py", line 668, in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
ConnectionRefusedError: [Errno 10061] Connect call failed ('127.0.0.1', 6379)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\security\websocket.py", line 37, in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 44, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 261, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\utils.py", line 57, in await_many_dispatch
    await task
redis.exceptions.ConnectionError: Error 10061 connecting to 127.0.0.1:6379. Connect call failed ('127.0.0.1', 6379).
ERROR 2025-06-03 14:28:01,466 consumers 17876 18164 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 14:28:02,458 server 17876 18164 Exception inside application: Error 10061 connecting to 127.0.0.1:6379. Connect call failed ('127.0.0.1', 6379).
Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 302, in connect_check_health
    await self.retry.call_with_retry(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\retry.py", line 71, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 755, in _connect
    reader, writer = await asyncio.open_connection(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\streams.py", line 48, in open_connection
    transport, _ = await loop.create_connection(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1073, in create_connection
    raise exceptions[0]
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1058, in create_connection
    sock = await self._connect_sock(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 964, in _connect_sock
    await self.sock_connect(sock, address)
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\selector_events.py", line 633, in sock_connect
    return await fut
           ^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\selector_events.py", line 668, in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
ConnectionRefusedError: [Errno 10061] Connect call failed ('127.0.0.1', 6379)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\security\websocket.py", line 37, in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 44, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 261, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\utils.py", line 57, in await_many_dispatch
    await task
redis.exceptions.ConnectionError: Error 10061 connecting to 127.0.0.1:6379. Connect call failed ('127.0.0.1', 6379).
ERROR 2025-06-03 14:28:07,628 consumers 17876 18164 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 14:28:08,508 server 17876 18164 Exception inside application: Error 10061 connecting to 127.0.0.1:6379. Connect call failed ('127.0.0.1', 6379).
Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 302, in connect_check_health
    await self.retry.call_with_retry(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\retry.py", line 71, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 755, in _connect
    reader, writer = await asyncio.open_connection(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\streams.py", line 48, in open_connection
    transport, _ = await loop.create_connection(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1073, in create_connection
    raise exceptions[0]
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1058, in create_connection
    sock = await self._connect_sock(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 964, in _connect_sock
    await self.sock_connect(sock, address)
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\selector_events.py", line 633, in sock_connect
    return await fut
           ^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\AppData\Local\Programs\Python\Python311\Lib\asyncio\selector_events.py", line 668, in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
ConnectionRefusedError: [Errno 10061] Connect call failed ('127.0.0.1', 6379)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\security\websocket.py", line 37, in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 44, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 261, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\utils.py", line 57, in await_many_dispatch
    await task
redis.exceptions.ConnectionError: Error 10061 connecting to 127.0.0.1:6379. Connect call failed ('127.0.0.1', 6379).
ERROR 2025-06-03 14:29:33,607 consumers 9212 20516 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 14:50:44,367 consumers 1880 15980 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 14:51:53,558 consumers 21280 16736 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 14:52:18,413 consumers 21280 16736 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 14:53:37,746 consumers 21112 492 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 14:54:44,905 consumers 7580 13392 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 15:20:23,928 consumers 16752 15252 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 15:24:46,354 consumers 17956 8072 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 15:25:10,064 consumers 17956 8072 Erro ao enviar frame com placas: Attempt to send on a closed protocol
ERROR 2025-06-03 15:25:13,370 consumers 17956 8072 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 15:29:41,526 consumers 17956 8072 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 15:31:40,837 consumers 17956 8072 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 19:31:36,517 server 15184 23684 Exception inside application: Connection closed by server.
Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\security\websocket.py", line 37, in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 44, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 261, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\utils.py", line 57, in await_many_dispatch
    await task
redis.exceptions.ConnectionError: Connection closed by server.
ERROR 2025-06-03 19:31:47,579 consumers 15184 23684 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 19:40:24,257 server 15184 23684 Exception inside application: Connection closed by server.
Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\backend\consumers.py", line 41, in connect
    await self.initialize_plate_detector()
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\backend\consumers.py", line 64, in initialize_plate_detector
    success = await loop.run_in_executor(None, init_detector)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\security\websocket.py", line 37, in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 44, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 261, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\utils.py", line 57, in await_many_dispatch
    await task
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels_redis\core.py", line 340, in receive
    message_channel, message = await self.receive_single(
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels_redis\core.py", line 395, in receive_single
    content = await self._brpop_with_clean(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels_redis\core.py", line 233, in _brpop_with_clean
    result = await connection.bzpopmin(channel, timeout=timeout)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\client.py", line 677, in execute_command
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\retry.py", line 76, in call_with_retry
    raise error
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\retry.py", line 71, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\client.py", line 652, in _send_command_parse_response
    return await self.parse_response(conn, command_name, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\client.py", line 698, in parse_response
    response = await connection.read_response()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 594, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\_parsers\base.py", line 285, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
ERROR 2025-06-03 19:40:32,699 server 15184 23684 Exception inside application: Connection closed by server.
Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\backend\consumers.py", line 41, in connect
    await self.initialize_plate_detector()
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\backend\consumers.py", line 64, in initialize_plate_detector
    success = await loop.run_in_executor(None, init_detector)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\security\websocket.py", line 37, in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 44, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\sessions.py", line 261, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels\utils.py", line 57, in await_many_dispatch
    await task
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels_redis\core.py", line 340, in receive
    message_channel, message = await self.receive_single(
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels_redis\core.py", line 395, in receive_single
    content = await self._brpop_with_clean(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\channels_redis\core.py", line 231, in _brpop_with_clean
    await connection.eval(cleanup_script, 0, channel, backup_queue)
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\client.py", line 672, in execute_command
    conn = self.connection or await pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 1141, in get_connection
    await self.ensure_connection(connection)
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 1174, in ensure_connection
    await connection.connect()
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 296, in connect
    await self.connect_check_health(check_health=True)
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 317, in connect_check_health
    await self.on_connect_check_health(check_health=check_health)
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 458, in on_connect_check_health
    await self.read_response()
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\asyncio\connection.py", line 594, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mdorsi.tier2.admin\projeto_veicular_back\.venv\Lib\site-packages\redis\_parsers\base.py", line 285, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
ERROR 2025-06-03 19:41:00,658 consumers 13412 4704 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 19:42:39,948 consumers 13412 4704 Enviando erro para o cliente: Perda de conexão com o stream de vídeo.
ERROR 2025-06-03 20:23:16,786 consumers 2228 19740 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 20:23:19,279 consumers 2228 19740 Enviando erro para o cliente: Não foi possível acessar MJPEG stream de http://172.16.3.192/. Verifique o URL e as credenciais, se aplicável.
ERROR 2025-06-03 20:31:45,137 consumers 21668 3036 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 20:32:19,623 consumers 21668 3036 Enviando erro para o cliente: Não foi possível acessar MJPEG stream de http://172.16.3.192:81/stream. Verifique o URL e as credenciais, se aplicável.
ERROR 2025-06-03 20:33:02,313 consumers 21668 3036 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 20:33:12,769 consumers 21668 3036 Enviando erro para o cliente: Não foi possível acessar MJPEG stream de http://172.16.3.192:81/stream. Verifique o URL e as credenciais, se aplicável.
ERROR 2025-06-03 20:34:55,458 consumers 18860 24260 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 20:35:43,339 consumers 18860 24260 Enviando erro para o cliente: Não foi possível acessar MJPEG stream de http://admin:admin@172.16.3.192:81/stream. Verifique o URL e as credenciais, se aplicável.
ERROR 2025-06-03 20:42:12,760 consumers 18860 24260 Erro ao inicializar detector de placas: Socket has not been accepted, so cannot send over it
ERROR 2025-06-03 20:45:07,576 consumers 18860 24260 Enviando erro para o cliente: Perda de conexão com o stream de vídeo.
